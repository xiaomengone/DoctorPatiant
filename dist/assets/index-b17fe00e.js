import{r as p,W as N,X as W,Y as A,n as _,g as b,j as I,B as O,a as T,N as M,R as P}from"./index-382d02f8.js";function g(e){return W()?(A(e),!0):!1}function y(e){return typeof e=="function"?e():_(e)}const w=typeof window<"u",D=()=>{};function F(e,t=!0){b()?I(e):t?e():O(e)}function H(e,t,i={}){const{immediate:s=!0}=i,n=p(!1);let u=null;function o(){u&&(clearTimeout(u),u=null)}function r(){n.value=!1,o()}function a(...c){o(),n.value=!0,u=setTimeout(()=>{n.value=!1,u=null,e(...c)},y(t))}return s&&(n.value=!0,w&&a()),g(r),{isPending:N(n),start:a,stop:r}}function V(e){var t;const i=y(e);return(t=i==null?void 0:i.$el)!=null?t:i}const E=w?window:void 0,Y=w?window.navigator:void 0;function L(...e){let t,i,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,s,n]=e,t=E):[t,i,s,n]=e,!t)return D;Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]);const u=[],o=()=>{u.forEach(d=>d()),u.length=0},r=(d,v,m,h)=>(d.addEventListener(v,m,h),()=>d.removeEventListener(v,m,h)),a=M(()=>[V(t),y(n)],([d,v])=>{o(),d&&u.push(...i.flatMap(m=>s.map(h=>r(d,m,h,v))))},{immediate:!0,flush:"post"}),c=()=>{a(),o()};return g(c),c}function z(){const e=p(!1);return b()&&I(()=>{e.value=!0}),e}function x(e){const t=z();return T(()=>(t.value,!!e()))}function B(e,t={}){const{window:i=E}=t,s=x(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function");let n;const u=p(!1),o=c=>{u.value=c.matches},r=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",o):n.removeListener(o))},a=P(()=>{s.value&&(r(),n=i.matchMedia(y(e)),"addEventListener"in n?n.addEventListener("change",o):n.addListener(o),u.value=n.matches)});return g(()=>{a(),r(),n=void 0}),u}function R(e={}){const{navigator:t=Y,read:i=!1,source:s,copiedDuring:n=1500,legacy:u=!1}=e,o=x(()=>t&&"clipboard"in t),r=T(()=>o.value||u),a=p(""),c=p(!1),d=H(()=>c.value=!1,n);function v(){o.value?t.clipboard.readText().then(l=>{a.value=l}):a.value=C()}r.value&&i&&L(["copy","cut"],v);async function m(l=y(s)){r.value&&l!=null&&(o.value?await t.clipboard.writeText(l):h(l),a.value=l,c.value=!0,d.start())}function h(l){const f=document.createElement("textarea");f.value=l??"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function C(){var l,f,S;return(S=(f=(l=document==null?void 0:document.getSelection)==null?void 0:l.call(document))==null?void 0:f.toString())!=null?S:""}return{isSupported:r,text:a,copied:c,copy:m}}function j(e={}){const{window:t=E,initialWidth:i=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:u=!0}=e,o=p(i),r=p(s),a=()=>{t&&(u?(o.value=t.innerWidth,r.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,r.value=t.document.documentElement.clientHeight))};if(a(),F(a),L("resize",a,{passive:!0}),n){const c=B("(orientation: portrait)");M(c,()=>a())}return{width:o,height:r}}export{R as a,j as u};
