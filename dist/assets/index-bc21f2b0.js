import{j as x,n as y,e as P,C as z,t as V,I as O,k as C,c as S,a as w,x as B,h as I,w as D}from"./index-17bfa05c.js";import{u as E}from"./request-9970d97a.js";import{d as G,r as N,a as h,c as b,N as R,m as $}from"./index-382d02f8.js";const _={name:x,disabled:Boolean,iconSize:y,modelValue:x,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var j=G({props:P({},_,{bem:z(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:V}),emits:["click","toggle"],setup(e,{emit:m,slots:u}){const o=N(),t=n=>{if(e.parent&&e.bindGroup)return e.parent.props[n]},a=h(()=>{if(e.parent&&e.bindGroup){const n=t("disabled")||e.disabled;if(e.role==="checkbox"){const r=t("modelValue").length,i=t("max"),s=i&&r>=+i;return n||s&&!e.checked}return n}return e.disabled}),k=h(()=>t("direction")),l=h(()=>{const n=e.checkedColor||t("checkedColor");if(n&&e.checked&&!a.value)return{borderColor:n,backgroundColor:n}}),d=h(()=>e.shape||t("shape")||"round"),v=n=>{const{target:r}=n,i=o.value,s=i===r||(i==null?void 0:i.contains(r));!a.value&&(s||!e.labelDisabled)&&m("toggle"),m("click",n)},f=()=>{var n,r;const{bem:i,checked:s}=e,g=e.iconSize||t("iconSize");return b("div",{ref:o,class:i("icon",[d.value,{disabled:a.value,checked:s}]),style:d.value!=="dot"?{fontSize:C(g)}:{width:C(g),height:C(g),borderColor:(n=l.value)==null?void 0:n.borderColor}},[u.icon?u.icon({checked:s,disabled:a.value}):d.value!=="dot"?b(O,{name:"success",style:l.value},null):b("div",{class:i("icon--dot__icon"),style:{backgroundColor:(r=l.value)==null?void 0:r.backgroundColor}},null)])},c=()=>{if(u.default)return b("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[u.default()])};return()=>{const n=e.labelPosition==="left"?[c(),f()]:[f(),c()];return b("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},k.value]),tabindex:a.value?void 0:0,"aria-checked":e.checked,onClick:v},[n])}}});const[F,A]=S("checkbox-group"),K=Symbol(F),[U,q]=S("checkbox"),H=P({},_,{shape:String,bindGroup:V});var L=G({name:U,props:H,emits:["change","update:modelValue"],setup(e,{emit:m,slots:u}){const{parent:o}=w(K),t=l=>{const{name:d}=e,{max:v,modelValue:f}=o.props,c=f.slice();if(l)!(v&&c.length>=+v)&&!c.includes(d)&&(c.push(d),e.bindGroup&&o.updateValue(c));else{const n=c.indexOf(d);n!==-1&&(c.splice(n,1),e.bindGroup&&o.updateValue(c))}},a=h(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),k=(l=!a.value)=>{o&&e.bindGroup?t(l):m("update:modelValue",l)};return R(()=>e.modelValue,l=>m("change",l)),E({toggle:k,props:e,checked:a}),B(()=>e.modelValue),()=>b(j,$({bem:q,role:"checkbox",parent:o,checked:a.value,onToggle:k},e),I(u,["default","icon"]))}});const J=D(L);export{J as C};
