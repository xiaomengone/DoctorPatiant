import{_ as b}from"./CpIcon-85f3193e.js";import{d as P,r as V,c as t,g as N,a as $,m as R,b as E,o as F,e as M,f as j,w as c,F as z,h,_ as D}from"./index-91c59e71.js";import{c as k,t as I,n as g,m as K,u as U,g as Y,B as Z,w as A,e as q,a as G,b as H,i as J,I as L}from"./index-5d8f6571.js";import{u as Q}from"./use-placeholder-ecf850e8.js";import{c as W,r as X,u as ee}from"./use-route-956230c9.js";const[T,y]=k("tabbar"),ae={route:Boolean,fixed:I,border:I,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:K(0),safeAreaInsetBottom:{type:Boolean,default:null}},S=Symbol(T);var te=P({name:T,props:ae,emits:["change","update:modelValue"],setup(a,{emit:i,slots:l}){const u=V(),{linkChildren:d}=U(S),n=Q(u,y),m=()=>{var o;return(o=a.safeAreaInsetBottom)!=null?o:a.fixed},e=()=>{var o;const{fixed:r,zIndex:s,border:f}=a;return t("div",{ref:u,role:"tablist",style:Y(s),class:[y({fixed:r}),{[Z]:f,"van-safe-area-bottom":m()}]},[(o=l.default)==null?void 0:o.call(l)])};return d({props:a,setActive:(o,r)=>{W(a.beforeChange,{args:[o],done(){i("update:modelValue",o),i("change",o),r()}})}}),()=>a.fixed&&a.placeholder?n(e):e()}});const ne=A(te),[oe,x]=k("tabbar-item"),re=q({},X,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var ce=P({name:oe,props:re,emits:["click"],setup(a,{emit:i,slots:l}){const u=ee(),d=N().proxy,{parent:n,index:m}=G(S);if(!n)return;const e=$(()=>{var r;const{route:s,modelValue:f}=n.props;if(s&&"$route"in d){const{$route:p}=d,{to:v}=a,_=J(v)?v:{path:v};return!!p.matched.find(C=>{const w="path"in _&&_.path===C.path,O="name"in _&&_.name===C.name;return w||O})}return((r=a.name)!=null?r:m.value)===f}),B=r=>{var s;e.value||n.setActive((s=a.name)!=null?s:m.value,u),i("click",r)},o=()=>{if(l.icon)return l.icon({active:e.value});if(a.icon)return t(L,{name:a.icon,classPrefix:a.iconPrefix},null)};return()=>{var r;const{dot:s,badge:f}=a,{activeColor:p,inactiveColor:v}=n.props,_=e.value?p:v;return t("div",{role:"tab",class:x({active:e.value}),style:{color:_},tabindex:0,"aria-selected":e.value,onClick:B},[t(H,R({dot:s,class:x("icon"),content:f},a.badgeProps),{default:o}),t("div",{class:x("text")},[(r=l.default)==null?void 0:r.call(l,{active:e.value})])])}}});const le=A(ce),se={class:"layout-page"},ie=P({__name:"index",setup(a){const i=V("");return(l,u)=>{const d=E("router-view"),n=le,m=ne;return F(),M(z,null,[t(d),j("div",se,[t(m,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=e=>i.value=e),route:""},{default:c(()=>[t(n,{to:"/home"},{icon:c(e=>[t(b,{name:e.active?"home-index-active":"home-index-default"},null,8,["name"])]),default:c(()=>[h(" 首页 ")]),_:1}),t(n,{to:"/article"},{icon:c(e=>[t(b,{name:e.active?"home-article-active":"home-article-default"},null,8,["name"])]),default:c(()=>[h("健康百科 ")]),_:1}),t(n,{to:"/notify"},{icon:c(e=>[t(b,{name:e.active?"home-notice-active":"home-notice-default"},null,8,["name"])]),default:c(()=>[h("消息中心 ")]),_:1}),t(n,{to:"/user"},{icon:c(e=>[t(b,{name:e.active?"home-mine-active":"home-mine-default"},null,8,["name"])]),default:c(()=>[h("我的 ")]),_:1})]),_:1},8,["modelValue"])])],64)}}});const ve=D(ie,[["__scopeId","data-v-12cfd44c"]]);export{ve as default};
